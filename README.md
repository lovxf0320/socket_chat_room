# Socket Chat Room
聊天室---服务端
概述
这是一个基于C语言开发的多线程聊天室服务端程序，支持多用户实时聊天和文件传输功能。
主要特性
基础功能

多线程并发处理：支持最多100个用户同时在线
实时消息广播：用户发送的消息会实时广播给所有在线用户
用户管理：支持用户登录、改名、退出等基本操作
连接状态监控：实时监控用户连接状态，自动处理断线情况

文件传输

文件上传：用户可向服务器上传文件
文件下载：用户可从服务器下载已上传的文件
文件列表查询：支持查看服务器端可用文件列表
文件完整性保护：上传过程中断线会自动清理未完成的文件

用户交互命令

:n <用户名> - 用户登录
:r <新用户名> - 修改用户名
:q - 退出聊天室
:s - 查看在线用户列表
:f - 查看服务器文件列表
:u <文件名> - 上传文件
:d <文件名> - 下载文件

技术规格
系统参数

监听端口：8000
最大并发连接数：100
最大消息长度：200字符
最大用户名长度：20字符
最大文件缓存：10KB

核心技术

Socket编程：基于TCP协议的网络通信
多线程处理：使用pthread库实现并发处理
文件I/O操作：支持二进制文件的读写传输
资源管理：静态缓冲区管理和连接资源清理

编译与运行
编译
bashgcc -o server server.c -lpthread
运行
bash./server
服务器启动后会在8000端口监听客户端连接。
安全特性

重名检测：防止用户使用重复的用户名
文件覆盖保护：防止上传时覆盖现有文件
连接数限制：防止过多连接导致服务器负载过高
异常处理：妥善处理客户端异常断线情况


第一次修改：在客户端增加心跳检测以及清除客户端的检测
